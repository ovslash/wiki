---
interface Props {
  tags?: string[];
}
const { tags = [] } = Astro.props;

// util simple pour slugifier
const slugify = (s: string) =>
  s
    .toLowerCase()
    .normalize("NFD").replace(/[\u0300-\u036f]/g, "") // accents
    .replace(/[^a-z0-9]+/g, "-")
    .replace(/(^-|-$)/g, "");

const base = import.meta.env.BASE_URL || "/";
---

{tags.length > 0 && (
  <div class="tags">
    {tags.map((t) => {
      const slug = slugify(t);
      return (
        <a class="tag" href={`${base}tags/${slug}/`} aria-label={`Voir toutes les pages avec le tag ${t}`}>
          {t}
        </a>
      );
    })}
  </div>
)}

<style>
.tags{
  display:flex;
  flex-wrap:wrap;
  gap:.5rem;
  margin-top:1.25rem;
}
.tag{
  font-size:.85rem;
  padding:.25rem .6rem;
  border:1px solid var(--sl-color-gray-5, #ddd);
  border-radius:999px;
  text-decoration:none;
}
.tag:hover{
  border-color: var(--sl-color-accent, #6b6bff);
}
</style>
